%div.filter-label-container
  = label_tag :filters, t('labels.filters.filters_menu_title'), class: 'filter-header-label'

- if @main_category_selected_name == ""
  %div#categoryFiltersContainerDiv.category-filters-container.hidden
    %div.parent-category-label-container
      = label_tag "", "<span id='subcategoriesFilterTitle'></span>".html_safe, class: 'parent-category-label'
      %div#filterDropdownContainer.filter-dropdown-closed
        %i#iconContainer.fa.fa-chevron-right
    %ul#subcategoriesList
  
- else
  %div#categoryFiltersContainerDiv.category-filters-container
    %div.parent-category-label-container
      = label_tag "", "<span id='subcategoriesFilterTitle'>#{category_filters_title(@main_category_selected_name)}</span>".html_safe, class: 'parent-category-label'
      %div#filterDropdownContainer.filter-dropdown-closed
        %i#iconContainer.fa.fa-chevron-right
    %ul#subcategoriesList
      - subcategories_by_category(@main_category_selected_id).each do |category|
        %li.filter-category-item.hide
          - if params[:categories]
            = check_box_tag( 'categories[]', category, params[:categories].include?(category) , id: "category_#{category[1]}")
          - else
            = check_box_tag( 'categories[]', category, false , id: "category_#{category}")
          = label_tag category


%div.filter-actions-container
  = label_tag(t('buttons.hide_filters'), nil, id: 'button-hide-filters')
  = label_tag(t('buttons.show_filters'), nil, id: 'button-show-filters')
  = label_tag(t('buttons.collapse_filters'), nil, id: 'button-collapse')
  = label_tag(t('buttons.clear_filters'), nil, id: 'button-reset')